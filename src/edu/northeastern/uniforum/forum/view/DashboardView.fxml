<?xml version="1.0" encoding="UTF-8"?>

<?import java.net.URL?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>

<AnchorPane prefHeight="800.0" prefWidth="1400.0" style="-fx-background-color: #F5F5F5;" 
            xmlns="http://javafx.com/fxml/1" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="edu.northeastern.uniforum.forum.controller.DashboardController">
    
    <stylesheets>
        <URL value="@uniforum-styles.css" />
    </stylesheets>
    
    <!-- Top Navbar -->
    <HBox alignment="CENTER_LEFT" spacing="20.0" style="-fx-background-color: white; -fx-padding: 15 30;" 
          AnchorPane.leftAnchor="0.0" AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="0.0" prefHeight="70.0">
        <children>
            <!-- Logo/Title -->
            <HBox alignment="CENTER_LEFT" spacing="10.0">
                <Label style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #3D348B;" text="UniForum" />
            </HBox>
            
            <!-- Spacer to push user info to the right -->
            <HBox HBox.hgrow="ALWAYS" />
            
            <!-- Right side: Notifications and User info -->
            <HBox alignment="CENTER_RIGHT" spacing="15.0">
                <Button styleClass="icon-button" style="-fx-background-color: transparent;" 
                       onAction="#handleNotificationsAction">
                    <graphic>
                        <Label style="-fx-font-size: 20px;" text="ðŸ””" />
                    </graphic>
                </Button>
                <HBox alignment="CENTER_LEFT" spacing="8.0">
                    <Circle fx:id="profileCircle" radius="18.0" fill="#7678ED" />
                    <VBox alignment="CENTER_LEFT" spacing="2.0">
                        <Label fx:id="usernameLabel" style="-fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #3D348B;" />
                        <Label fx:id="userHandleLabel" style="-fx-font-size: 12px; -fx-text-fill: #888888;" />
                    </VBox>
                </HBox>
            </HBox>
        </children>
    </HBox>
    
    <!-- Main Content Area -->
    <HBox spacing="20.0" AnchorPane.bottomAnchor="0.0" AnchorPane.leftAnchor="0.0" 
          AnchorPane.rightAnchor="0.0" AnchorPane.topAnchor="70.0" style="-fx-padding: 20;">
        
        <!-- Left Sidebar (Rounded) -->
        <VBox alignment="TOP_CENTER" spacing="15.0" prefWidth="80.0" 
              style="-fx-background-color: white; -fx-background-radius: 20px; -fx-padding: 20 15;">
            <children>
                <!-- Navigation Items -->
                <Button styleClass="nav-button" text="ðŸ " onAction="#handleHomeAction" 
                       style="-fx-background-color: #7678ED; -fx-text-fill: white; -fx-background-radius: 12px;" 
                       prefWidth="50.0" prefHeight="50.0" />
                <Button styleClass="nav-button" text="ðŸ‘¤" onAction="#handleProfileAction" 
                       prefWidth="50.0" prefHeight="50.0" />
                <Button styleClass="nav-button" text="ðŸ‘¥" onAction="#handleGroupsAction" 
                       prefWidth="50.0" prefHeight="50.0" />
                <Button styleClass="nav-button" text="ðŸ“ˆ" onAction="#handleTrendingAction" 
                       prefWidth="50.0" prefHeight="50.0" />
                <Button styleClass="nav-button" text="ðŸ”–" onAction="#handleSavedAction" 
                       prefWidth="50.0" prefHeight="50.0" />
                
                <!-- Spacer -->
                <VBox VBox.vgrow="ALWAYS" />
                
                <!-- Settings and Logout -->
                <Button styleClass="nav-button" text="âš™ï¸" onAction="#handleSettingsAction" 
                       prefWidth="50.0" prefHeight="50.0" />
                <Button styleClass="nav-button" text="ðŸšª" onAction="#handleLogoutAction" 
                       prefWidth="50.0" prefHeight="50.0" />
            </children>
        </VBox>
        
        <!-- Main Content Card (Rounded) - Forum will be loaded here -->
        <VBox fx:id="mainContentArea" 
              style="-fx-background-color: white; -fx-background-radius: 20px;" 
              HBox.hgrow="ALWAYS"
              VBox.vgrow="ALWAYS">
            <!-- Forum view will be dynamically loaded here -->
        </VBox>
        
    </HBox>
    
</AnchorPane>
